<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue 组件二次封装 - Racing Style</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Teko:wght@400;600;700&family=Russo+One&family=JetBrains+Mono:wght@400;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-asphalt: #09090b;
        --bg-track: #18181b;

        --race-yellow: #facc15; /* High Vis Yellow */
        --race-red: #ef4444; /* Stop Red */
        --race-white: #ffffff;

        --font-speed: "Russo One", sans-serif;
        --font-condensed: "Teko", sans-serif;
        --font-code: "JetBrains Mono", monospace;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 50px;
        background-color: var(--bg-asphalt);
        font-family: var(--font-speed);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 60px;
        min-height: 100vh;
      }

      .card {
        width: 778px;
        height: 1340px;
        background: var(--bg-asphalt);
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        padding: 50px;
        /* 边框发光 */
        box-shadow: 0 0 0 1px #333, 0 20px 50px rgba(0, 0, 0, 0.8);
        border-radius: 20px;
      }

      /* Background Track Lines (Perspective) */
      .track-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            105deg,
            transparent 40%,
            rgba(255, 255, 255, 0.03) 40%,
            rgba(255, 255, 255, 0.03) 41%,
            transparent 41%
          ),
          linear-gradient(
            105deg,
            transparent 45%,
            rgba(255, 255, 255, 0.03) 45%,
            rgba(255, 255, 255, 0.03) 46%,
            transparent 46%
          );
        z-index: 0;
      }

      /* Speed Lines Overlay */
      .speed-lines {
        position: absolute;
        top: 0;
        right: 0;
        width: 60%;
        height: 100%;
        background: repeating-linear-gradient(
          90deg,
          transparent,
          transparent 50px,
          rgba(255, 255, 255, 0.02) 50px,
          rgba(255, 255, 255, 0.02) 51px
        );
        mask-image: linear-gradient(to right, transparent, black);
        z-index: 0;
        transform: skewX(-20deg);
      }

      /* Checkered Flag Pattern */
      .checkered-stripe {
        position: absolute;
        top: 0;
        bottom: 0;
        right: 40px;
        width: 30px;
        background-image: linear-gradient(45deg, #333 25%, transparent 25%),
          linear-gradient(-45deg, #333 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #333 75%),
          linear-gradient(-45deg, transparent 75%, #333 75%);
        background-size: 20px 20px;
        background-color: #111;
        opacity: 0.5;
        z-index: 0;
      }

      /* Content */
      .content {
        position: relative;
        z-index: 10;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      /* Typography */
      .header {
        margin-bottom: 50px;
      }

      .label-badge {
        display: inline-block;
        background: var(--race-red);
        color: white;
        padding: 4px 16px;
        font-family: var(--font-condensed);
        font-weight: 700;
        font-size: 24px;
        text-transform: uppercase;
        letter-spacing: 2px;
        transform: skewX(-15deg);
        box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.5);
        margin-bottom: 20px;
      }

      .title {
        font-family: var(--font-speed);
        font-size: 80px;
        color: var(--race-white);
        line-height: 0.9;
        text-transform: uppercase;
        font-style: italic;
        margin-bottom: 15px;
        /* Speed Shadow Effect */
        text-shadow: 4px 4px 0 var(--race-yellow), 8px 8px 0 rgba(0, 0, 0, 0.5);
      }

      .title .highlight {
        color: var(--race-yellow);
        text-shadow: 4px 4px 0 var(--race-white), 8px 8px 0 rgba(0, 0, 0, 0.5);
      }

      .subtitle {
        font-family: var(--font-code);
        font-weight: 700;
        color: rgba(255, 255, 255, 0.6);
        font-size: 16px;
        margin-top: 10px;
        text-transform: uppercase;
        letter-spacing: 2px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .subtitle::before {
        content: "";
        width: 40px;
        height: 2px;
        background: var(--race-yellow);
      }

      /* Racing Cards/Panels */
      .race-panel {
        background: rgba(255, 255, 255, 0.05);
        border-left: 4px solid var(--race-yellow);
        padding: 24px;
        margin-bottom: 20px;
        transform: skewX(-10deg); /* Racing skew */
        position: relative;
      }

      /* Un-skew content inside */
      .race-panel > * {
        transform: skewX(10deg);
      }

      .rp-header {
        color: var(--race-yellow);
        font-family: var(--font-condensed);
        font-size: 32px;
        line-height: 1;
        margin-bottom: 8px;
        text-transform: uppercase;
      }

      .rp-desc {
        color: #ddd;
        font-family: var(--font-code);
        font-size: 14px;
        line-height: 1.5;
      }

      /* Code Box - Bottom Floating Style as per reference image */
      .code-float {
        margin-top: auto;
        margin-bottom: 40px;
        background: rgba(0, 0, 0, 0.6);
        border: 1px solid #333;
        border-radius: 4px;
        padding: 15px 20px;
        font-family: var(--font-code);
        font-size: 13px;
        color: #efefef;
        display: flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(10px);
      }
      .code-float::before {
        content: "CODE";
        background: #333;
        color: #999;
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 2px;
      }

      /* Stats Box (like RPM/Speed) */
      .stats-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 30px;
      }

      .stat-box {
        background: #111;
        border: 1px solid #333;
        padding: 15px;
        text-align: center;
      }
      .stat-val {
        color: var(--race-white);
        font-size: 36px;
        font-family: var(--font-condensed);
        line-height: 1;
      }
      .stat-label {
        color: #666;
        font-size: 12px;
        font-family: var(--font-code);
        text-transform: uppercase;
        margin-top: 4px;
      }

      /* Dynamic Elements */
      .racer {
        position: absolute;
        right: 80px;
        top: 240px;
        width: 120px;
        height: 40px;
        background: var(--race-yellow);
        transform: skewX(-20deg);
        box-shadow: 0 0 20px var(--race-yellow);
        display: flex;
        align-items: center;
        justify-content: center;
        color: black;
        font-family: var(--font-condensed);
        font-weight: 700;
        font-size: 20px;
      }
      .racer::after {
        content: "";
        position: absolute;
        top: 10px;
        right: -50px;
        width: 40px;
        height: 2px;
        background: rgba(255, 255, 255, 0.5);
        box-shadow: 0 18px 0 rgba(255, 255, 255, 0.5);
      }

      /* Syntax Highlighting */
      .s-k {
        color: var(--race-red);
        font-weight: bold;
      }
      .s-f {
        color: var(--race-yellow);
        font-weight: bold;
      }
      .s-s {
        color: #fff;
      }
      .s-c {
        color: #555;
        font-style: italic;
      }

      /* Footer */
      .footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top: 2px solid #333;
        padding-top: 20px;
        margin-top: 20px;
      }
      .page-num {
        color: var(--race-white);
        font-family: var(--font-speed);
        font-size: 24px;
      }
      .page-tag {
        color: var(--race-red);
        background: rgba(239, 68, 68, 0.1);
        padding: 4px 8px;
        font-family: var(--font-code);
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <!-- CARD 1: Overview -->
    <div class="card">
      <div class="track-bg"></div>
      <div class="speed-lines"></div>
      <div class="checkered-stripe"></div>

      <!-- Racer Element -->
      <div class="racer">Vue 3</div>

      <div class="content">
        <div class="header">
          <div class="label-badge">PERFORMANCE TUNING</div>
          <h1 class="title">
            组件<br /><span class="highlight">二次封装</span>
          </h1>
          <div class="subtitle">MAXIMIZE REUSABILITY // 极致复用</div>
        </div>

        <div style="margin-top: 20px">
          <div class="race-panel">
            <div class="rp-header">01 // 属性透传</div>
            <div class="rp-desc">
              PROPS PASSTHROUGH<br />如何无损传递父组件的所有属性？
            </div>
          </div>

          <div class="race-panel" style="border-left-color: var(--race-red)">
            <div class="rp-header" style="color: var(--race-red)">
              02 // 插槽转发
            </div>
            <div class="rp-desc">
              SLOTS FORWARDING<br />如何自动渲染所有具名/作用域插槽？
            </div>
          </div>

          <div class="race-panel" style="border-left-color: white">
            <div class="rp-header" style="color: white">03 // 实例暴露</div>
            <div class="rp-desc">
              INSTANCE PROXY<br />如何让父组件调用内部组件的方法？
            </div>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-val" style="color: var(--race-yellow)">100%</div>
            <div class="stat-label">兼容性</div>
          </div>
          <div class="stat-box">
            <div class="stat-val" style="color: var(--race-red)">MIN</div>
            <div class="stat-label">冗余代码</div>
          </div>
        </div>

        <div class="footer">
          <span class="page-num">01 / 04</span>
          <span class="page-tag">RACE START</span>
        </div>
      </div>
    </div>

    <!-- CARD 2: Props -->
    <div class="card">
      <div class="track-bg" style="transform: scaleX(-1)"></div>
      <div class="speed-lines"></div>

      <div class="content">
        <div class="header">
          <div
            class="label-badge"
            style="background: var(--race-yellow); color: black"
          >
            CHECKPOINT 01
          </div>
          <h1 class="title">Props<br />无损透传</h1>
          <div class="subtitle">v-bind="{ ...props, ...$attrs }"</div>
        </div>

        <!-- Graphic Visualization of Props passing through -->
        <div
          style="
            position: relative;
            height: 180px;
            margin: 20px 0;
            border: 1px solid #333;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
          "
        >
          <div
            style="
              color: #666;
              font-family: var(--font-code);
              position: absolute;
              top: 10px;
              left: 10px;
            "
          >
            DATA STREAM
          </div>
          <!-- Arrow -->
          <div
            style="
              width: 80%;
              height: 20px;
              background: linear-gradient(
                90deg,
                transparent,
                var(--race-yellow)
              );
              clip-path: polygon(
                0% 20%,
                90% 20%,
                90% 0%,
                100% 50%,
                90% 100%,
                90% 80%,
                0% 80%
              );
            "
          ></div>
          <div
            style="
              position: absolute;
              color: black;
              font-weight: bold;
              font-style: italic;
              font-size: 20px;
              right: 20%;
            "
          >
            穿透 PASS
          </div>
        </div>

        <div class="code-float">
          <div style="font-family: 'JetBrains Mono'; line-height: 1.6">
            <span class="s-k">&lt;el-input</span> <br />
            &nbsp;&nbsp;<span class="s-c">// 关键：批量绑定所有属性</span><br />
            &nbsp;&nbsp;<span class="s-f">v-bind</span>=<span class="s-s"
              >"{ ...props, ...$attrs }"</span
            ><br />
            <span class="s-k">/&gt;</span>
          </div>
        </div>

        <div
          class="race-panel"
          style="transform: none; border-left-color: var(--race-white)"
        >
          <div class="rp-desc" style="transform: none; color: #999">
            <strong style="color: white; font-size: 16px">机制解析：</strong
            ><br />
            Vue 3 将所有未被 `defineProps` 声明的属性自动收集到
            <strong style="color: var(--race-yellow)">$attrs</strong> 中。通过
            v-bind 这里的解构，我们可以一次性把 class, style, id
            等所有属性传给内部组件。
          </div>
        </div>

        <div class="footer">
          <span class="page-num">02 / 04</span>
          <span class="page-tag">LAP TIME: FAST</span>
        </div>
      </div>
    </div>

    <!-- CARD 3: Slots -->
    <div class="card">
      <div class="track-bg"></div>
      <div class="checkered-stripe"></div>

      <div class="content">
        <div class="header">
          <div class="label-badge">CHECKPOINT 02</div>
          <h1 class="title">
            Slots<br /><span class="highlight">插槽转发</span>
          </h1>
          <div class="subtitle">推荐使用渲染函数 (Render Function)</div>
        </div>

        <div
          style="
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
          "
        >
          <!-- Comparison Item 1 -->
          <div
            style="
              background: #111;
              padding: 20px;
              border: 1px solid #333;
              opacity: 0.6;
            "
          >
            <div
              style="
                color: #666;
                font-size: 12px;
                font-weight: bold;
                margin-bottom: 5px;
              "
            >
              方案 A：模板循环 (繁琐)
            </div>
            <div
              style="
                color: white;
                font-family: var(--font-code);
                font-size: 14px;
              "
            >
              v-for="(n, name) in $slots"...
            </div>
            <div style="color: #666; font-size: 12px; margin-top: 5px">
              需要手动遍历，代码量大
            </div>
          </div>

          <!-- Comparison Item 2 -->
          <div
            style="
              background: linear-gradient(
                90deg,
                rgba(239, 68, 68, 0.1),
                transparent
              );
              padding: 20px;
              border: 1px solid var(--race-red);
              position: relative;
            "
          >
            <div
              style="
                background: var(--race-red);
                color: white;
                position: absolute;
                top: -10px;
                right: 20px;
                font-size: 10px;
                padding: 2px 6px;
                font-weight: bold;
              "
            >
              WINNER
            </div>
            <div
              style="
                color: var(--race-red);
                font-size: 12px;
                font-weight: bold;
                margin-bottom: 5px;
              "
            >
              方案 B：H 函数 (极速)
            </div>
            <div
              style="
                color: white;
                font-family: var(--font-code);
                font-size: 16px;
                font-weight: bold;
              "
            >
              h(Comp, null, slots)
            </div>
            <div style="color: #999; font-size: 12px; margin-top: 5px">
              无需遍历，自动处理作用域插槽
            </div>
          </div>
        </div>

        <div class="code-float">
          <div style="font-family: 'JetBrains Mono'; line-height: 1.6">
            <span class="s-k">return</span> <span class="s-f">()</span> =>
            <span class="s-f">h</span>(Comp, <span class="s-s">null</span>,
            slots)
          </div>
        </div>

        <div class="footer">
          <span class="page-num">03 / 04</span>
          <span class="page-tag">NEW RECORD</span>
        </div>
      </div>
    </div>

    <!-- CARD 4: Expose -->
    <div class="card">
      <div class="track-bg"></div>
      <div
        class="speed-lines"
        style="left: 0; right: auto; transform: skewX(20deg)"
      ></div>

      <div class="content">
        <div class="header">
          <div
            class="label-badge"
            style="background: var(--race-white); color: black"
          >
            FINISH LINE
          </div>
          <h1 class="title">Expose<br />实例暴露</h1>
          <div class="subtitle">解锁内部组件的控制权</div>
        </div>

        <div class="stats-grid" style="margin-top: 20px; opacity: 0.8">
          <div class="stat-box" style="border-color: var(--race-yellow)">
            <div
              class="stat-val"
              style="color: var(--race-yellow); font-size: 24px"
            >
              FOCUS()
            </div>
            <div class="stat-label">方法调用</div>
          </div>
          <div class="stat-box" style="border-color: var(--race-yellow)">
            <div
              class="stat-val"
              style="color: var(--race-yellow); font-size: 24px"
            >
              BLUR()
            </div>
            <div class="stat-label">方法调用</div>
          </div>
        </div>

        <div
          class="race-panel"
          style="margin-top: 30px; border-left-color: var(--race-yellow)"
        >
          <div class="rp-desc" style="color: white; font-size: 16px">
            <strong style="color: var(--race-yellow)">原理：</strong><br />
            使用 `ref` 获取内部组件实例后，将其赋值给当前组件实例的 `exposed`
            属性。
          </div>
        </div>

        <div class="code-float">
          <div style="font-family: 'JetBrains Mono'; line-height: 1.6">
            <span class="s-c">// 将内部实例代理到外部</span><br />
            vm.<span class="s-f">exposed</span> = inputRef<br />
            vm.<span class="s-f">exposeProxy</span> = inputRef
          </div>
        </div>

        <div class="footer">
          <span class="page-num">04 / 04</span>
          <span class="page-tag">MISSION COMPLETE</span>
        </div>
      </div>
    </div>
  </body>
</html>
