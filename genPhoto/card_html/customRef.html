<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue3 customRef çŸ¥è¯†å¡ç‰‡</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        /* Premium Light Theme */
        --bg-body: #eef2f6;
        --bg-card: #ffffff;
        --bg-glass: rgba(255, 255, 255, 0.7);
        --bg-code: #1a1e2e;

        --text-primary: #1e293b;
        --text-secondary: #475569;
        --text-card-desc: #64748b;

        /* Refined Palette */
        --primary-500: #6366f1;
        --primary-600: #4f46e5;
        --secondary-500: #8b5cf6;

        /* Gradients */
        --gradient-glow: conic-gradient(
          from 180deg at 50% 50%,
          #6366f1 0deg,
          #ec4899 180deg,
          #6366f1 360deg
        );
        --gradient-header: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        --gradient-card-1: linear-gradient(135deg, #e0e7ff 0%, #fae8ff 100%);
        --gradient-card-2: linear-gradient(135deg, #ccfbf1 0%, #e0f2fe 100%);
        --gradient-card-3: linear-gradient(135deg, #fffbeb 0%, #ffedd5 100%);

        /* Shadows */
        --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.05),
          0 2px 4px -1px rgba(0, 0, 0, 0.03);
        --shadow-card: 0 20px 40px -5px rgba(15, 23, 42, 0.1),
          0 0 0 1px rgba(148, 163, 184, 0.1);
        --shadow-float: 0 10px 30px -5px rgba(99, 102, 241, 0.2);

        /* Radius */
        --radius-card: 32px;
        --radius-inner: 20px;
        --radius-sm: 12px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: var(--bg-body);
        font-family: "Inter", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 60px;
        padding: 60px;
        min-height: 100vh;
      }

      .card {
        width: 776px;
        height: 1240px;
        background: var(--bg-card);
        border-radius: var(--radius-card);
        position: relative;
        overflow: hidden;
        box-shadow: var(--shadow-card);
        display: flex;
        flex-direction: column;
      }

      /* Decorative Backgrounds */
      .bg-blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        opacity: 0.5;
        z-index: 0;
      }

      .bg-grid {
        position: absolute;
        inset: 0;
        background-image: linear-gradient(
            rgba(148, 163, 184, 0.05) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(148, 163, 184, 0.05) 1px, transparent 1px);
        background-size: 30px 30px;
        z-index: 0;
      }

      /* Layout */
      .content {
        position: relative;
        z-index: 10;
        padding: 56px;
        height: 100%;
        display: flex;
        flex-direction: column;
        gap: 32px;
      }

      /* Typography */
      h1,
      h2,
      h3 {
        color: var(--text-primary);
      }
      p {
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .header-section {
        text-align: center;
        margin-bottom: 20px;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        background: rgba(99, 102, 241, 0.1);
        color: var(--primary-600);
        border-radius: 100px;
        font-size: 13px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        margin-bottom: 24px;
        border: 1px solid rgba(99, 102, 241, 0.2);
      }

      .main-title {
        font-size: 64px;
        font-weight: 800;
        line-height: 1.1;
        letter-spacing: -2px;
        margin-bottom: 16px;
        background: linear-gradient(135deg, #1e293b 0%, #475569 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .main-desc {
        font-size: 18px;
        max-width: 500px;
        margin: 0 auto;
        color: var(--text-secondary);
      }

      /* Code Blocks */
      .code-container {
        background: var(--bg-code);
        border-radius: var(--radius-inner);
        padding: 24px;
        position: relative;
        overflow: hidden;
        box-shadow: var(--shadow-soft);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .code-header {
        position: absolute;
        top: 0;
        right: 0;
        padding: 8px 16px;
        background: rgba(255, 255, 255, 0.1);
        border-bottom-left-radius: 12px;
        color: rgba(255, 255, 255, 0.6);
        font-size: 12px;
        font-weight: 600;
        font-family: "JetBrains Mono", monospace;
      }

      pre {
        font-family: "JetBrains Mono", monospace;
        font-size: 14px;
        line-height: 1.7;
        color: #e2e8f0;
        overflow-x: auto;
      }

      /* Syntax Highlighting */
      .s-k {
        color: #c678dd;
      } /* keyword */
      .s-f {
        color: #61afef;
      } /* function */
      .s-s {
        color: #98c379;
      } /* string */
      .s-t {
        color: #e5c07b;
      } /* type */
      .s-c {
        color: #5c6370;
        font-style: italic;
      } /* comment */
      .s-n {
        color: #d19a66;
      } /* number */
      .s-p {
        color: #abb2bf;
      } /* punctuation */
      .s-r {
        color: #e06c75;
      } /* regex */

      /* Feature Grid */
      .feature-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      .feature-box {
        background: rgba(255, 255, 255, 0.8);
        padding: 24px;
        border-radius: var(--radius-inner);
        border: 1px solid rgba(255, 255, 255, 0.6);
        box-shadow: var(--shadow-soft);
        backdrop-filter: blur(10px);
        transition: transform 0.3s ease;
      }
      .feature-box:hover {
        transform: translateY(-4px);
      }

      .icon-box {
        width: 48px;
        height: 48px;
        background: var(--bg-card);
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin-bottom: 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
      }

      /* Tables */
      .modern-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background: white;
        border-radius: var(--radius-inner);
        overflow: hidden;
        box-shadow: var(--shadow-soft);
        border: 1px solid #f1f5f9;
      }

      .modern-table th {
        background: #f8fafc;
        padding: 16px 24px;
        font-size: 13px;
        font-weight: 700;
        color: #64748b;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
      }

      .modern-table td {
        padding: 20px 24px;
        font-size: 15px;
        color: #334155;
        border-bottom: 1px solid #f1f5f9;
        vertical-align: top;
      }
      .modern-table tr:last-child td {
        border-bottom: none;
      }

      /* Footer */
      .footer {
        margin-top: auto;
        padding-top: 32px;
        border-top: 1px solid rgba(0, 0, 0, 0.06);
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        color: #94a3b8;
      }

      .page-indicator {
        font-family: "JetBrains Mono", monospace;
        font-size: 14px;
        letter-spacing: 1px;
      }
    </style>
  </head>
  <body>
    <!-- ==================== CARD 1: å°é¢ï¼ˆä¸°å¯Œç‰ˆï¼‰ ==================== -->
    <div class="card">
      <div class="bg-grid"></div>
      <div
        class="bg-blob"
        style="
          top: -150px;
          left: -100px;
          width: 600px;
          height: 600px;
          background: #c7d2fe;
        "
      ></div>
      <div
        class="bg-blob"
        style="
          bottom: -150px;
          right: -100px;
          width: 500px;
          height: 500px;
          background: #fbcfe8;
        "
      ></div>

      <div
        class="content"
        style="align-items: center; text-align: center; gap: 40px"
      >
        <div style="margin-top: 40px">
          <div
            class="pill"
            style="
              background: white;
              border: 1px solid #e2e8f0;
              box-shadow: var(--shadow-soft);
            "
          >
            <span style="color: #6366f1">âš¡</span> Vue 3 Composition API
          </div>
          <h1 class="main-title" style="font-size: 88px; margin: 24px 0 16px">
            customRef
          </h1>
          <p
            class="main-desc"
            style="font-size: 22px; color: #64748b; max-width: 540px"
          >
            ä¸ä»…ä»…æ˜¯å­˜å‚¨æ•°æ®ï¼Œæ›´æ˜¯<br />
            <span style="color: var(--primary-600); font-weight: 800"
              >æ§åˆ¶å“åº”å¼æµå‘</span
            >
            çš„ç²¾å¯†ä»ªå™¨
          </p>
        </div>

        <!-- æ ¸å¿ƒæœºåˆ¶å¯è§†åŒ– -->
        <div
          style="
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 32px;
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: var(--shadow-card);
            width: 100%;
          "
        >
          <div
            style="
              font-size: 13px;
              font-weight: 700;
              color: #94a3b8;
              letter-spacing: 1.5px;
              margin-bottom: 24px;
            "
          >
            CORE MECHANISM
          </div>

          <div
            style="
              display: flex;
              justify-content: space-around;
              align-items: stretch;
              gap: 20px;
            "
          >
            <!-- GET Flow -->
            <div
              style="
                flex: 1;
                background: white;
                border-radius: 16px;
                padding: 24px;
                box-shadow: var(--shadow-soft);
                border: 1px solid #eef2f6;
              "
            >
              <div
                style="
                  font-weight: 800;
                  color: #1e293b;
                  font-size: 18px;
                  margin-bottom: 12px;
                "
              >
                READ
              </div>
              <div
                style="
                  font-family: 'JetBrains Mono';
                  color: #6366f1;
                  background: #e0e7ff;
                  padding: 8px 12px;
                  border-radius: 8px;
                  display: inline-block;
                  margin-bottom: 8px;
                "
              >
                get()
              </div>
              <div style="color: #cbd5e1; font-size: 20px; margin: 4px 0">
                â†“
              </div>
              <div
                style="
                  font-family: 'JetBrains Mono';
                  color: #059669;
                  font-weight: 700;
                "
              >
                track()
              </div>
              <div style="font-size: 12px; color: #64748b; margin-top: 8px">
                æ”¶é›†ä¾èµ–
              </div>
            </div>

            <!-- Divider -->
            <div style="width: 1px; background: #e2e8f0"></div>

            <!-- SET Flow -->
            <div
              style="
                flex: 1;
                background: white;
                border-radius: 16px;
                padding: 24px;
                box-shadow: var(--shadow-soft);
                border: 1px solid #eef2f6;
              "
            >
              <div
                style="
                  font-weight: 800;
                  color: #1e293b;
                  font-size: 18px;
                  margin-bottom: 12px;
                "
              >
                WRITE
              </div>
              <div
                style="
                  font-family: 'JetBrains Mono';
                  color: #ec4899;
                  background: #fce7f3;
                  padding: 8px 12px;
                  border-radius: 8px;
                  display: inline-block;
                  margin-bottom: 8px;
                "
              >
                set(v)
              </div>
              <div style="color: #cbd5e1; font-size: 20px; margin: 4px 0">
                â†“
              </div>
              <div
                style="
                  font-family: 'JetBrains Mono';
                  color: #ea580c;
                  font-weight: 700;
                "
              >
                trigger()
              </div>
              <div style="font-size: 12px; color: #64748b; margin-top: 8px">
                è§¦å‘æ›´æ–°
              </div>
            </div>
          </div>
        </div>

        <!-- åº”ç”¨åœºæ™¯ï¼šç®€åŒ–ç‰ˆï¼Œåªç•™ä¸¤ä¸ª -->
        <div style="width: 100%">
          <div
            style="
              font-size: 13px;
              font-weight: 700;
              color: #94a3b8;
              letter-spacing: 1.5px;
              margin-bottom: 20px;
            "
          >
            POWER UTILITIES
          </div>
          <div style="display: flex; justify-content: center; gap: 20px">
            <div
              style="
                background: white;
                padding: 20px 32px;
                border-radius: 16px;
                display: flex;
                align-items: center;
                gap: 16px;
                box-shadow: var(--shadow-soft);
                flex: 1;
              "
            >
              <div
                style="
                  width: 40px;
                  height: 40px;
                  background: #ccfbf1;
                  border-radius: 10px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  color: #0d9488;
                  font-size: 20px;
                "
              >
                ğŸ§¹
              </div>
              <div style="text-align: left">
                <div style="font-weight: 700; color: #1e293b; font-size: 16px">
                  æ•°æ®æ¸…æ´—
                </div>
                <div style="font-size: 12px; color: #64748b">Sanitization</div>
              </div>
            </div>

            <div
              style="
                background: white;
                padding: 20px 32px;
                border-radius: 16px;
                display: flex;
                align-items: center;
                gap: 16px;
                box-shadow: var(--shadow-soft);
                flex: 1;
              "
            >
              <div
                style="
                  width: 40px;
                  height: 40px;
                  background: #ffedd5;
                  border-radius: 10px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  color: #c2410c;
                  font-size: 20px;
                "
              >
                ğŸ’¾
              </div>
              <div style="text-align: left">
                <div style="font-weight: 700; color: #1e293b; font-size: 16px">
                  æŒä¹…åŒ–å­˜å‚¨
                </div>
                <div style="font-size: 12px; color: #64748b">Persistence</div>
              </div>
            </div>
          </div>
        </div>

        <div class="footer">
          <div style="display: flex; align-items: center; gap: 8px">
            <div
              style="
                width: 6px;
                height: 6px;
                background: #6366f1;
                border-radius: 50%;
              "
            ></div>
            Vue 3 Advanced Guide
          </div>
          <span class="page-indicator">01 / 05</span>
        </div>
      </div>
    </div>

    <!-- ==================== CARD 2: ç±»å‹å®šä¹‰ ==================== -->
    <div class="card">
      <div class="bg-grid"></div>
      <div
        class="bg-blob"
        style="
          top: 20%;
          right: -200px;
          width: 600px;
          height: 600px;
          background: #ccfbf1;
        "
      ></div>

      <div class="content">
        <div class="header-section">
          <div class="pill">Type Definition</div>
          <h2
            style="
              font-size: 36px;
              font-weight: 800;
              color: var(--text-primary);
            "
          >
            ç±»å‹ç­¾åä¸æœºåˆ¶
          </h2>
        </div>

        <div class="code-container">
          <div class="code-header">TypeScript</div>
          <pre><span class="s-k">function</span> <span class="s-f">customRef</span><span class="s-p">&lt;</span><span class="s-t">T</span><span class="s-p">&gt;(</span>
  <span class="s-v">factory</span>: <span class="s-p">(</span>
    <span class="s-v">track</span>: <span class="s-p">()</span> <span class="s-k">=></span> <span class="s-t">void</span>,
    <span class="s-v">trigger</span>: <span class="s-p">()</span> <span class="s-k">=></span> <span class="s-t">void</span>
  <span class="s-p">)</span> <span class="s-k">=></span> <span class="s-p">{</span>
    <span class="s-v">get</span>: <span class="s-p">()</span> <span class="s-k">=></span> <span class="s-t">T</span>
    <span class="s-v">set</span>: <span class="s-p">(</span><span class="s-v">value</span>: <span class="s-t">T</span><span class="s-p">)</span> <span class="s-k">=></span> <span class="s-t">void</span>
  <span class="s-p">}</span>
<span class="s-p">)</span>: <span class="s-t">Ref</span><span class="s-p">&lt;</span><span class="s-t">T</span><span class="s-p">&gt;</span></pre>
        </div>

        <h3 style="margin-top: 10px; font-size: 20px">å‚æ•°è¯¦è§£</h3>
        <table class="modern-table">
          <thead>
            <tr>
              <th width="120">API</th>
              <th>ä½œç”¨</th>
              <th>å…³é”®ç‚¹</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>track()</code></td>
              <td>æ”¶é›†ä¾èµ–</td>
              <td>å¿…é¡»åœ¨ <code>get</code> ä¸­è°ƒç”¨ï¼Œå¦åˆ™æ•°æ®å˜ä¸ºéå“åº”å¼</td>
            </tr>
            <tr>
              <td><code>trigger()</code></td>
              <td>æ´¾å‘æ›´æ–°</td>
              <td>åœ¨ <code>set</code> ä¸­è°ƒç”¨ï¼Œé€šçŸ¥æ‰€æœ‰ç›‘å¬è€…UIéœ€è¦åˆ·æ–°</td>
            </tr>
          </tbody>
        </table>

        <div
          style="
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.2);
            padding: 20px;
            border-radius: 16px;
            display: flex;
            gap: 16px;
          "
        >
          <div style="font-size: 24px">ğŸ’¡</div>
          <div>
            <h4 style="color: #b45309; margin-bottom: 4px">å·¥å‚å‡½æ•°æ¨¡å¼</h4>
            <p style="font-size: 14px; color: #92400e">
              customRef
              æ¥æ”¶ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºå±€éƒ¨å˜é‡ï¼ˆé—­åŒ…ï¼‰æ¥å­˜å‚¨çŠ¶æ€ã€‚
            </p>
          </div>
        </div>

        <div class="footer">
          <span>Core Concepts</span>
          <span class="page-indicator">02 / 05</span>
        </div>
      </div>
    </div>

    <!-- ==================== CARD 3: ç¤ºä¾‹1 æ ¼å¼åŒ– ==================== -->
    <div class="card">
      <div class="bg-grid"></div>
      <div
        class="bg-blob"
        style="
          top: -100px;
          right: -100px;
          width: 400px;
          height: 400px;
          background: #ffedd5;
        "
      ></div>

      <div class="content">
        <div class="header-section">
          <div
            class="pill"
            style="
              color: #b45309;
              background: rgba(245, 158, 11, 0.1);
              border-color: rgba(245, 158, 11, 0.2);
            "
          >
            UseCase 01
          </div>
          <h2
            style="
              font-size: 36px;
              font-weight: 800;
              color: var(--text-primary);
            "
          >
            æ•°æ®è‡ªåŠ¨æ ¼å¼åŒ–
          </h2>
          <p style="margin-top: 10px">æ‹¦æˆª set æ“ä½œï¼Œåœ¨èµ‹å€¼å‰å¯¹æ•°æ®è¿›è¡Œæ¸…æ´—</p>
        </div>

        <div class="code-container">
          <div class="code-header">useReplaceRef.ts</div>
          <pre><span class="s-k">function</span> <span class="s-f">useReplaceRef</span><span class="s-p">(</span>
  <span class="s-v">initialValue</span>: <span class="s-t">string</span>,
  <span class="s-v">pattern</span>: <span class="s-t">RegExp</span>,
  <span class="s-v">replacement</span>: <span class="s-t">string</span>
<span class="s-p">)</span> <span class="s-p">{</span>
  <span class="s-c">// å†…éƒ¨çŠ¶æ€</span>
  <span class="s-k">let</span> <span class="s-v">value</span> = <span class="s-v">initialValue</span>
  
  <span class="s-k">return</span> <span class="s-f">customRef</span><span class="s-p">((</span><span class="s-v">track</span>, <span class="s-v">trigger</span><span class="s-p">)</span> <span class="s-k">=></span> <span class="s-p">({</span>
    <span class="s-f">get</span><span class="s-p">()</span> <span class="s-p">{</span>
      <span class="s-f">track</span><span class="s-p">()</span>
      <span class="s-k">return</span> <span class="s-v">value</span>
    <span class="s-p">},</span>
    <span class="s-f">set</span><span class="s-p">(</span><span class="s-v">newValue</span><span class="s-p">)</span> <span class="s-p">{</span>
      <span class="s-v">value</span> = <span class="s-v">newValue</span>.<span class="s-f">replace</span><span class="s-p">(</span><span class="s-v">pattern</span>, <span class="s-v">replacement</span><span class="s-p">)</span>
      <span class="s-f">trigger</span><span class="s-p">()</span>
    <span class="s-p">}</span>
  <span class="s-p">}))</span>
<span class="s-p">}</span></pre>
        </div>

        <div
          style="
            background: white;
            border-radius: 20px;
            padding: 24px;
            box-shadow: var(--shadow-soft);
            border: 1px solid #e2e8f0;
          "
        >
          <h4 style="margin-bottom: 12px; font-size: 16px; color: #475569">
            è°ƒç”¨ä»£ç 
          </h4>
          <div
            style="
              font-family: 'JetBrains Mono';
              font-size: 13px;
              background: #f8fafc;
              padding: 12px;
              border-radius: 8px;
              color: #334155;
              margin-bottom: 20px;
              border: 1px dashed #cbd5e1;
            "
          >
            <span class="s-k">const</span> phone =
            <span class="s-f">useReplaceRef</span>('',
            <span class="s-r">/\s/g</span>, '')
          </div>

          <h4 style="margin-bottom: 12px; font-size: 16px; color: #475569">
            æ‰§è¡Œæ•ˆæœ
          </h4>
          <div style="display: flex; gap: 20px; align-items: center">
            <div style="flex: 1">
              <div style="font-size: 12px; color: #94a3b8; margin-bottom: 6px">
                è¾“å…¥å€¼ (Input)
              </div>
              <div
                style="
                  font-family: 'JetBrains Mono';
                  background: #f1f5f9;
                  padding: 12px;
                  border-radius: 8px;
                  color: #64748b;
                "
              >
                "138 0013 8000"
              </div>
            </div>
            <div style="font-size: 20px; color: #cbd5e1">â”</div>
            <div style="flex: 1">
              <div style="font-size: 12px; color: #94a3b8; margin-bottom: 6px">
                å®é™…å€¼ (Ref)
              </div>
              <div
                style="
                  font-family: 'JetBrains Mono';
                  background: #f0fdf4;
                  padding: 12px;
                  border-radius: 8px;
                  color: #15803d;
                  border: 1px solid #bbf7d0;
                "
              >
                "13800138000"
              </div>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Example: Formatting</span>
          <span class="page-indicator">03 / 05</span>
        </div>
      </div>
    </div>

    <!-- ==================== CARD 4: ç¤ºä¾‹2 æŒä¹…åŒ–ï¼ˆå‡çº§å®¹é”™ç‰ˆï¼‰ ==================== -->
    <div class="card">
      <div class="bg-grid"></div>
      <div
        class="bg-blob"
        style="
          bottom: 100px;
          left: -100px;
          width: 500px;
          height: 500px;
          background: #e0e7ff;
        "
      ></div>

      <div class="content">
        <div class="header-section">
          <div
            class="pill"
            style="color: #4f46e5; background: rgba(99, 102, 241, 0.1)"
          >
            UseCase 02
          </div>
          <h2
            style="
              font-size: 36px;
              font-weight: 800;
              color: var(--text-primary);
            "
          >
            LocalStorage åŒæ­¥
          </h2>
          <p style="margin-top: 10px">æ›´å¥å£®çš„å®ç°ï¼ˆåŒ…å«é”™è¯¯å¤„ç†ï¼‰</p>
        </div>

        <div class="code-container">
          <div class="code-header">useStorageRef.ts</div>
          <pre><span class="s-k">function</span> <span class="s-f">useStorageRef</span><span class="s-p">&lt;</span><span class="s-t">T</span><span class="s-p">&gt;(</span><span class="s-v">key</span>: <span class="s-t">string</span>, <span class="s-v">defaultVal</span>: <span class="s-t">T</span><span class="s-p">)</span> <span class="s-p">{</span>
  <span class="s-k">let</span> <span class="s-v">value</span> = <span class="s-v">defaultVal</span>
  <span class="s-k">try</span> <span class="s-p">{</span>
    <span class="s-c">// 1. å°è¯•è¯»å–å¹¶è§£æ (å®¹é”™å¤„ç†)</span>
    <span class="s-k">const</span> <span class="s-v">stored</span> = <span class="s-v">localStorage</span>.<span class="s-f">getItem</span><span class="s-p">(</span><span class="s-v">key</span><span class="s-p">)</span>
    <span class="s-k">if</span> <span class="s-p">(</span><span class="s-v">stored</span><span class="s-p">)</span> <span class="s-v">value</span> = <span class="s-t">JSON</span>.<span class="s-f">parse</span><span class="s-p">(</span><span class="s-v">stored</span><span class="s-p">)</span>
  <span class="s-p">}</span> <span class="s-k">catch</span><span class="s-p">(</span><span class="s-v">e</span><span class="s-p">)</span> <span class="s-p">{}</span>
  
  <span class="s-k">return</span> <span class="s-f">customRef</span><span class="s-p">((</span><span class="s-v">track</span>, <span class="s-v">trigger</span><span class="s-p">)</span> <span class="s-k">=></span> <span class="s-p">({</span>
    <span class="s-f">get</span><span class="s-p">()</span> <span class="s-p">{</span>
      <span class="s-f">track</span><span class="s-p">()</span>
      <span class="s-k">return</span> <span class="s-v">value</span>
    <span class="s-p">},</span>
    <span class="s-f">set</span><span class="s-p">(</span><span class="s-v">newValue</span><span class="s-p">)</span> <span class="s-p">{</span>
      <span class="s-v">value</span> = <span class="s-v">newValue</span>
      <span class="s-c">// 2. ç»Ÿä¸€åºåˆ—åŒ– (å…³é”®ï¼šè§£å†³ boolean/number ç±»å‹ä¸¢å¤±é—®é¢˜)</span>
      <span class="s-v">localStorage</span>.<span class="s-f">setItem</span><span class="s-p">(</span><span class="s-v">key</span>, <span class="s-t">JSON</span>.<span class="s-f">stringify</span><span class="s-p">(</span><span class="s-v">newValue</span><span class="s-p">))</span>
      <span class="s-f">trigger</span><span class="s-p">()</span>
    <span class="s-p">}</span>
  <span class="s-p">}))</span>
<span class="s-p">}</span></pre>
        </div>

        <div
          style="
            background: white;
            border-radius: 20px;
            padding: 24px;
            box-shadow: var(--shadow-soft);
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            gap: 12px;
          "
        >
          <h4 style="font-size: 16px; color: #475569">ä½¿ç”¨æ–¹å¼</h4>
          <div
            style="
              font-family: 'JetBrains Mono';
              font-size: 14px;
              background: #f8fafc;
              padding: 12px;
              border-radius: 8px;
              color: #334155;
            "
          >
            const theme = useStorageRef('theme', 'dark')
          </div>
          <div
            style="
              font-size: 13px;
              color: #10b981;
              display: flex;
              align-items: center;
              gap: 6px;
            "
          >
            <span style="font-size: 16px">âœ“</span> é¡µé¢åˆ·æ–°åä¾ç„¶ä¿æŒçŠ¶æ€
          </div>
        </div>

        <div class="footer">
          <span>Example: Persistence</span>
          <span class="page-indicator">04 / 05</span>
        </div>
      </div>
    </div>

    <!-- ==================== CARD 5: å¯¹æ¯”ä¸æ³¨æ„äº‹é¡¹ ==================== -->
    <div class="card">
      <div class="bg-grid"></div>
      <div
        class="bg-blob"
        style="
          top: 200px;
          left: 100px;
          width: 600px;
          height: 600px;
          background: #f1f5f9;
        "
      ></div>

      <div class="content">
        <div class="header-section">
          <div
            class="pill"
            style="color: #64748b; background: #e2e8f0; border-color: #cbd5e1"
          >
            Comparison
          </div>
          <h2
            style="
              font-size: 36px;
              font-weight: 800;
              color: var(--text-primary);
            "
          >
            Ref vs CustomRef
          </h2>
        </div>

        <table class="modern-table">
          <thead>
            <tr>
              <th width="140">ç‰¹æ€§</th>
              <th>Ref</th>
              <th>CustomRef</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Getter/Setter</td>
              <td>ä¸å¯å®šåˆ¶</td>
              <td style="color: #16a34a; font-weight: 600">å®Œå…¨å¯æ§</td>
            </tr>
            <tr>
              <td>æ›´æ–°æœºåˆ¶</td>
              <td>è‡ªåŠ¨è§¦å‘</td>
              <td style="color: #16a34a; font-weight: 600">æ‰‹åŠ¨ Trigger</td>
            </tr>
            <tr>
              <td>é€‚ç”¨åœºæ™¯</td>
              <td>é€šç”¨æ•°æ®å­˜å‚¨</td>
              <td>é€»è¾‘å°è£… / å‰¯ä½œç”¨æ§åˆ¶</td>
            </tr>
            <tr>
              <td>ä»£ç å¤æ‚åº¦</td>
              <td>ä½</td>
              <td>é«˜</td>
            </tr>
          </tbody>
        </table>

        <div style="margin-top: 30px">
          <h3 style="margin-bottom: 20px; font-size: 20px">æ³¨æ„äº‹é¡¹</h3>
          <div style="display: flex; flex-direction: column; gap: 16px">
            <div
              style="
                display: flex;
                gap: 16px;
                background: white;
                padding: 20px;
                border-radius: 16px;
                box-shadow: var(--shadow-soft);
              "
            >
              <div style="font-size: 24px">ğŸš«</div>
              <div>
                <h4 style="margin-bottom: 4px; color: #1e293b">
                  Getter çº¯å‡€æ€§
                </h4>
                <p style="font-size: 14px; color: #64748b">
                  ä¸è¦åœ¨
                  <code>get</code>
                  ä¸­è¿›è¡Œä¿®æ”¹æ•°æ®çš„æ“ä½œï¼Œè¿™ä¼šå¯¼è‡´æ— é™å¾ªç¯æˆ–ä¸å¯é¢„æµ‹çš„ Bugã€‚
                </p>
              </div>
            </div>

            <div
              style="
                display: flex;
                gap: 16px;
                background: white;
                padding: 20px;
                border-radius: 16px;
                box-shadow: var(--shadow-soft);
              "
            >
              <div style="font-size: 24px">ğŸ’</div>
              <div>
                <h4 style="margin-bottom: 4px; color: #1e293b">è¿”å›æ ‡å‡† Ref</h4>
                <p style="font-size: 14px; color: #64748b">
                  å¯¹å¤–è¡¨ç°ä¸æ™®é€š ref ä¸€è‡´ï¼Œä½¿ç”¨
                  <code>.value</code> è®¿é—®ï¼Œè¿™ä¿è¯äº†ç»„ä»¶ä½¿ç”¨çš„ç»Ÿä¸€æ€§ã€‚
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="footer">
          <span>Best Practices</span>
          <span class="page-indicator">05 / 05</span>
        </div>
      </div>
    </div>
  </body>
  <script>
    const a = JSON.stringify(true);
    console.log(typeof JSON.parse(a));
  </script>
</html>
