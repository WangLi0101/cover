在异步加载 JavaScript 脚本时，`async` 和 `defer` 是两种常用的属性，它们的行为有一些显著区别。了解这两者的差异有助于在优化网页性能时做出正确的选择。

### 1. **共同点**

- **异步加载**：两者都会异步加载脚本文件，这意味着它们不会阻塞 HTML 的解析。与没有这两个属性的普通脚本标签不同，HTML 的解析和脚本的加载会并行进行，页面加载速度更快。

### 2. **主要区别**

| 特性             | `async`                                            | `defer`                                     |
| ---------------- | -------------------------------------------------- | ------------------------------------------- |
| **加载行为**     | 异步加载，**加载**不会阻塞 HTML 解析               | 异步加载，**加载**不会阻塞 HTML 解析        |
| **执行时机**     | 加载完立即执行，**执行**时可能会阻塞 HTML 的解析   | HTML 解析完成后再执行，确保不阻塞解析       |
| **脚本执行顺序** | 脚本的执行顺序无法保证，谁先加载完谁先执行         | 保证脚本按照它们在 HTML 中的顺序依次执行    |
| **适用场景**     | 独立、不依赖于其他脚本的脚本（如统计、广告脚本等） | 依赖于 DOM 结构或需要按照特定顺序执行的脚本 |

### 3. 图片解释
![state](https://libra-blog.oss-cn-beijing.aliyuncs.com/src/asyncdefer.svg)