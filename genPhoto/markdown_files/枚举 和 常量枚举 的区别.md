## 1. 枚举（Enum）

### 作用

枚举用于定义一组命名的常量，便于代码的可读性和可维护性。它们在编译后会被转换为 JavaScript 对象，支持双向映射（从名称到值，和值到名称）。

### 特点

- **双向映射**：枚举成员不仅可以通过名称访问值，还可以通过值访问名称。
- **编译输出**：编译后的 JavaScript 代码中会生成一个实际的对象，包含枚举的成员及其对应的值。
- **运行时存在**：因为枚举在编译后生成了对象，运行时可以访问和使用这些枚举成员。

### 示例

```typescript
enum Direction {
  Up = 1,
  Down,
  Left,
  Right,
}

console.log(Direction.Up); // 输出: 1
console.log(Direction[2]); // 输出: "Down"
```

#### 编译后的 JavaScript 代码

```javascript
"use strict";
var Direction;
(function (Direction) {
  Direction[(Direction["Up"] = 1)] = "Up";
  Direction[(Direction["Down"] = 2)] = "Down";
  Direction[(Direction["Left"] = 3)] = "Left";
  Direction[(Direction["Right"] = 4)] = "Right";
})(Direction || (Direction = {}));
console.log(Direction.Up); // 输出: 1
console.log(Direction[2]); // 输出: "Down"
```

### 使用场景

- 需要在运行时访问枚举成员及其值的场景。
- 需要双向映射（名称 ↔ 值）的场景。

## 2. 常量枚举（Const Enum）

### 作用

常量枚举用于定义一组编译时常量，它们在编译阶段会被内联替换为具体的值，不会在编译后的 JavaScript 代码中生成实际的对象。

### 特点

- **内联替换**：常量枚举成员会在编译时被直接替换为对应的值，不会生成枚举对象。
- **无运行时开销**：因为不生成实际的枚举对象，减少了运行时的开销和代码体积。
- **仅单向映射**：常量枚举不支持从值反查名称。

### 示例

```typescript
const enum Direction {
  Up = 1,
  Down,
  Left,
  Right,
}

const move = Direction.Up;
console.log(move); // 输出: 1
```

#### 编译后的 JavaScript 代码

```javascript
"use strict";
const move = 1;
console.log(move); // 输出: 1
```

### 使用场景

- 需要优化编译后的代码体积和性能的场景。
- 不需要在运行时访问枚举对象或进行反向映射的场景。
- 枚举成员值是常量表达式，能够在编译时确定。

## 3. 主要区别总结

| 特性           | 枚举（Enum）                               | 常量枚举（Const Enum）                           |
| -------------- | ------------------------------------------ | ------------------------------------------------ |
| **编译输出**   | 生成实际的枚举对象                         | 不生成枚举对象，成员内联为具体值                 |
| **双向映射**   | 支持名称 ↔ 值的双向映射                    | 仅支持名称 → 值的单向映射                        |
| **运行时开销** | 存在运行时对象，可能增加代码体积和性能开销 | 无运行时对象，优化代码体积和性能                 |
| **使用限制**   | 无特别限制，适用于大多数情况               | 枚举成员必须是常量表达式，且不支持反向映射       |
| **适用场景**   | 需要运行时访问和双向映射的场景             | 需要优化代码体积和性能，且不需要运行时访问的场景 |

> **`--isolatedModules` 编译选项**：在开启 `--isolatedModules` 选项时，不能使用 `const enum`，因为常量枚举需要在编译阶段被内联替换。
